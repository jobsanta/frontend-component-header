{"version":3,"file":"Menu.js","names":["React","CSSTransition","PropTypes","MenuTrigger","_ref","tag","className","attributes","_objectWithoutProperties","_excluded","createElement","_objectSpread","concat","propTypes","string","defaultProps","MenuTriggerType","type","MenuContent","_ref2","_excluded2","join","menuPropTypes","onClose","func","onOpen","closeOnDocumentClick","bool","respondToPointerEvents","transitionTimeout","number","transitionClassName","children","arrayOf","node","isRequired","Menu","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","menu","createRef","state","expanded","onTriggerClick","bind","_assertThisInitialized","onCloseClick","onKeyDown","onDocumentClick","onMouseEnter","onMouseLeave","_createClass","key","value","componentWillUnmount","document","removeEventListener","e","clickIsInMenu","current","target","contains","close","getAttribute","preventDefault","toggle","getFocusableElements","focus","stopPropagation","activeElement","shiftKey","focusPrevious","focusNext","open","querySelectorAll","getAttributesFromProps","_this2","Object","keys","filter","property","undefined","forEach","focusableElements","Array","from","activeIndex","indexOf","nextIndex","length","previousIndex","setState","addEventListener","renderTrigger","cloneElement","onClick","renderMenuContent","timeout","classNames","unmountOnExit","render","_this3","wrappedChildren","Children","map","child","rootClassName","ref","Component"],"sources":["../../src/Menu/Menu.jsx"],"sourcesContent":["import React from 'react';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst MenuTrigger = ({ tag, className, ...attributes }) => React.createElement(tag, {\r\n  className: `menu-trigger ${className}`,\r\n  ...attributes,\r\n});\r\nMenuTrigger.propTypes = {\r\n  tag: PropTypes.string,\r\n  className: PropTypes.string,\r\n};\r\nMenuTrigger.defaultProps = {\r\n  tag: 'div',\r\n  className: null,\r\n};\r\nconst MenuTriggerType = <MenuTrigger />.type;\r\n\r\nconst MenuContent = ({ tag, className, ...attributes }) => React.createElement(tag, {\r\n  className: ['menu-content', className].join(' '),\r\n  ...attributes,\r\n});\r\nMenuContent.propTypes = {\r\n  tag: PropTypes.string,\r\n  className: PropTypes.string,\r\n};\r\nMenuContent.defaultProps = {\r\n  tag: 'div',\r\n  className: null,\r\n};\r\n\r\nconst menuPropTypes = {\r\n  tag: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  onOpen: PropTypes.func,\r\n  closeOnDocumentClick: PropTypes.bool,\r\n  respondToPointerEvents: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  transitionTimeout: PropTypes.number,\r\n  transitionClassName: PropTypes.string,\r\n  children: PropTypes.arrayOf(PropTypes.node).isRequired,\r\n};\r\n\r\nclass Menu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.menu = React.createRef();\r\n    this.state = {\r\n      expanded: false,\r\n    };\r\n\r\n    this.onTriggerClick = this.onTriggerClick.bind(this);\r\n    this.onCloseClick = this.onCloseClick.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n    this.onDocumentClick = this.onDocumentClick.bind(this);\r\n    this.onMouseEnter = this.onMouseEnter.bind(this);\r\n    this.onMouseLeave = this.onMouseLeave.bind(this);\r\n  }\r\n\r\n  // Lifecycle Events\r\n  componentWillUnmount() {\r\n    document.removeEventListener('touchend', this.onDocumentClick, true);\r\n    document.removeEventListener('click', this.onDocumentClick, true);\r\n\r\n    // Call onClose callback when unmounting and open\r\n    if (this.state.expanded && this.props.onClose) {\r\n      this.props.onClose();\r\n    }\r\n  }\r\n\r\n  // Event handlers\r\n  onDocumentClick(e) {\r\n    if (!this.props.closeOnDocumentClick) {\r\n      return;\r\n    }\r\n\r\n    const clickIsInMenu = this.menu.current === e.target || this.menu.current.contains(e.target);\r\n    if (clickIsInMenu) {\r\n      return;\r\n    }\r\n\r\n    this.close();\r\n  }\r\n\r\n  onTriggerClick(e) {\r\n    // Let the browser follow the link of the trigger if the menu\r\n    // is already expanded and the trigger has an href attribute\r\n    if (this.state.expanded && e.target.getAttribute('href')) {\r\n      return;\r\n    }\r\n\r\n    e.preventDefault();\r\n    this.toggle();\r\n  }\r\n\r\n  onCloseClick() {\r\n    this.getFocusableElements()[0].focus();\r\n    this.close();\r\n  }\r\n\r\n  onKeyDown(e) {\r\n    if (!this.state.expanded) {\r\n      return;\r\n    }\r\n    switch (e.key) {\r\n      case 'Escape': {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.getFocusableElements()[0].focus();\r\n        this.close();\r\n        break;\r\n      }\r\n      case 'Enter': {\r\n        // Using focusable elements instead of a ref to the trigger\r\n        // because Hyperlink and Button can handle refs as functional components\r\n        if (document.activeElement === this.getFocusableElements()[0]) {\r\n          e.preventDefault();\r\n          this.toggle();\r\n        }\r\n        break;\r\n      }\r\n      case 'Tab': {\r\n        e.preventDefault();\r\n        if (e.shiftKey) {\r\n          this.focusPrevious();\r\n        } else {\r\n          this.focusNext();\r\n        }\r\n        break;\r\n      }\r\n      case 'ArrowDown': {\r\n        e.preventDefault();\r\n        this.focusNext();\r\n        break;\r\n      }\r\n      case 'ArrowUp': {\r\n        e.preventDefault();\r\n        this.focusPrevious();\r\n        break;\r\n      }\r\n      default:\r\n    }\r\n  }\r\n\r\n  onMouseEnter() {\r\n    if (!this.props.respondToPointerEvents) {\r\n      return;\r\n    }\r\n    this.open();\r\n  }\r\n\r\n  onMouseLeave() {\r\n    if (!this.props.respondToPointerEvents) {\r\n      return;\r\n    }\r\n    this.close();\r\n  }\r\n\r\n  // Internal functions\r\n\r\n  getFocusableElements() {\r\n    return this.menu.current.querySelectorAll('button:not([disabled]), [href]:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex=\"-1\"]):not([disabled])');\r\n  }\r\n\r\n  getAttributesFromProps() {\r\n    // Any extra props are attributes for the menu\r\n    const attributes = {};\r\n    Object.keys(this.props)\r\n      .filter(property => menuPropTypes[property] === undefined)\r\n      .forEach((property) => {\r\n        attributes[property] = this.props[property];\r\n      });\r\n    return attributes;\r\n  }\r\n\r\n  focusNext() {\r\n    const focusableElements = Array.from(this.getFocusableElements());\r\n    const activeIndex = focusableElements.indexOf(document.activeElement);\r\n    const nextIndex = (activeIndex + 1) % focusableElements.length;\r\n    focusableElements[nextIndex].focus();\r\n  }\r\n\r\n  focusPrevious() {\r\n    const focusableElements = Array.from(this.getFocusableElements());\r\n    const activeIndex = focusableElements.indexOf(document.activeElement);\r\n    const previousIndex = (activeIndex || focusableElements.length) - 1;\r\n    focusableElements[previousIndex].focus();\r\n  }\r\n\r\n  open() {\r\n    if (this.props.onOpen) {\r\n      this.props.onOpen();\r\n    }\r\n    this.setState({ expanded: true });\r\n    // Listen to touchend and click events to ensure the menu\r\n    // can be closed on mobile, pointer, and mixed input devices\r\n    document.addEventListener('touchend', this.onDocumentClick, true);\r\n    document.addEventListener('click', this.onDocumentClick, true);\r\n  }\r\n\r\n  close() {\r\n    if (this.props.onClose) {\r\n      this.props.onClose();\r\n    }\r\n    this.setState({ expanded: false });\r\n    document.removeEventListener('touchend', this.onDocumentClick, true);\r\n    document.removeEventListener('click', this.onDocumentClick, true);\r\n  }\r\n\r\n  toggle() {\r\n    if (this.state.expanded) {\r\n      this.close();\r\n    } else {\r\n      this.open();\r\n    }\r\n  }\r\n\r\n  renderTrigger(node) {\r\n    return React.cloneElement(node, {\r\n      onClick: this.onTriggerClick,\r\n      'aria-haspopup': 'menu',\r\n      'aria-expanded': this.state.expanded,\r\n    });\r\n  }\r\n\r\n  renderMenuContent(node) {\r\n    return (\r\n      <CSSTransition\r\n        in={this.state.expanded}\r\n        timeout={this.props.transitionTimeout}\r\n        classNames={this.props.transitionClassName}\r\n        unmountOnExit\r\n      >\r\n        {node}\r\n      </CSSTransition>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { className } = this.props;\r\n\r\n    const wrappedChildren = React.Children.map(this.props.children, (child) => {\r\n      if (child.type === MenuTriggerType) {\r\n        return this.renderTrigger(child);\r\n      }\r\n      return this.renderMenuContent(child);\r\n    });\r\n\r\n    const rootClassName = this.state.expanded ? 'menu expanded' : 'menu';\r\n\r\n    return React.createElement(this.props.tag, {\r\n      className: `${rootClassName} ${className}`,\r\n      ref: this.menu,\r\n      onKeyDown: this.onKeyDown,\r\n      onMouseEnter: this.onMouseEnter,\r\n      onMouseLeave: this.onMouseLeave,\r\n      ...this.getAttributesFromProps(),\r\n    }, wrappedChildren);\r\n  }\r\n}\r\n\r\nMenu.propTypes = menuPropTypes;\r\nMenu.defaultProps = {\r\n  tag: 'div',\r\n  className: null,\r\n  onClose: null,\r\n  onOpen: null,\r\n  respondToPointerEvents: false,\r\n  closeOnDocumentClick: true,\r\n  transitionTimeout: 250,\r\n  transitionClassName: 'menu-content',\r\n};\r\n\r\nexport { Menu, MenuTrigger, MenuContent };\r\n"],"mappings":"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"}